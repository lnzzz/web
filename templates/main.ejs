<%
  var title = "En Directo Stream";
%>


	<!DOCTYPE html>
	<html>
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="theme-color" content="#ffffff">
		<title>
			<%=title%>
		</title>
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
		<style>
      .aclaracion {
        color: #555;
        font-weight: bold;
      }
			html, body {
			      height: 100%;
			    }
			
			    body {
			      background: #111;
			    }
			
			    .wrapper {
			      min-height: 100%;
			      display: flex;
			      flex-direction: column;
			    }
			
			    .content {
			      flex: 1;
			    }
			  .no-select {
			    user-select: none; /* Standard syntax */
			    -moz-user-select: none; /* Firefox */
			    -ms-user-select: none; /* Internet Explorer/Edge */
			    -webkit-user-select: none; /* Safari */
			  }
			
			  
			
			  .feature {
			    background: #000;
			    border-radius: 15px;
			    color: #FFF;
			    text-align: center;
			    padding-top: 15px;
			    height: 100%;
			  }
			
			  .active {
			    background: violet !important;
			    color: black !important;
			  }
			
			  .nav-link {
			    color: violet;
			  }
			
			  .nav-link:hover {
			    color: pink;
			  }
			
			  .feature h2 {
			    color: violet;
			    font-weight: bold;
			  }
			  .feature h4 {
			    text-transform: uppercase;
			    font-size: 16px;
			  }
			
			  .feature h3 {
			    text-transform: uppercase;
			    color: pink;
			    font-size: 18px;
			  }
			
			  .table thead th {
			    background: #000 !important;
			    color: white;
			    text-align: center;
			    text-transform: uppercase;
			    border-bottom: solid 1px #222;
			  }
			  .navbar-custom .navbar-nav .nav-link {
			    border-bottom: none !important;
			  }
			
			  header {
			    border-bottom: solid 1px violet !important;
			  }
			
			  .table tbody tr td {
			    border-bottom: solid 1px #222;
			    background: #111 !important;
			    color: pink;
			    text-align: center;
			  }
			
			  footer {
			    color: violet;
			  }
			  
			
		</style>
	</head>
	<body>
		<div class="wrapper">
			<header class="d-flex flex-wrap justify-content-center py-3 mb-4">
				<div id="logo no-select">
					<div class="fs-4 text-center"><img src="/images/logo.png" width="190" height="190"></div>
				</div>
			</header>
			<div class="container">
        <ul class="nav nav-pills">
					<li class="nav-item"><a href="#" id="totals-btn" class="nav-link active" onClick="display('totals'); return false;">Total</a></li>
					<li class="nav-item"><a href="#" id="twitch-btn" class="nav-link" onClick="display('twitch'); return false;">Twitch</a></li>
					<li class="nav-item"><a href="#" id="youtube-btn" class="nav-link" onClick="display('youtube'); return false;">Youtube</a></li>
				</ul>
				<div id="stats-totals" class="stats row g-4 py-5 row-cols-1 row-cols-lg-4 gx-2">
					<div class="col">
						<div class="feature">
							<div class="d-inline-flex align-items-center justify-content-center bg-gradient fs-2 mb-3">
								<i class="bi bi-clock"></i>
							</div>
							<h4>M&aacute;x. del d&iacute;a <br/><span class="aclaracion">24hs</span></h4>
							<h3><%= data.totals.maxDay[0] %></h3>
							<h2><%= data.totals.maxDay[1] %></h2>
              <div class="d-flex justify-content-end px-3 pb-3">
                <i class="bi bi-youtube me-2"></i> 
                <i class="bi bi-twitch"></i>
              </div>
						</div>
					</div>
					<div class="col">
						<div class="feature">
							<div class="d-inline-flex align-items-center justify-content-center bg-gradient fs-2 mb-3">
								<i class="bi bi-hourglass-top"></i>
							</div>
							<h4>M&aacute;x. de la ma&ntilde;ana <br/><span class="aclaracion">07:00 a 10:00</span></h4>
							<h3><%= data.totals.maxMorning[0] %></h3>
							<h2><%= data.totals.maxMorning[1] %></h2>
              <div class="d-flex justify-content-end px-3 pb-3">
                <i class="bi bi-youtube me-2"></i> 
                <i class="bi bi-twitch"></i>
              </div>
						</div>
					</div>
					<div class="col">
						<div class="feature">
							<div class="d-inline-flex align-items-center justify-content-center bg-gradient fs-2 mb-3">
								<i class="bi bi-hourglass-split"></i>
							</div>
							<h4>M&aacute;x. del mediod&iacute;a <br/><span class="aclaracion">10:00 a 14:00</span></h4>
							<h3><%= data.totals.maxMidday[0] %></h3>
							<h2><%= data.totals.maxMidday[1] %></h2>
              <div class="d-flex justify-content-end px-3 pb-3">
                <i class="bi bi-youtube me-2"></i> 
                <i class="bi bi-twitch"></i>
              </div>
						</div>
					</div>
					<div class="col">
						<div class="feature">
							<div class="d-inline-flex align-items-center justify-content-center bg-gradient fs-2 mb-3">
								<i class="bi bi-hourglass-bottom"></i>
							</div>
							<h4>M&aacute;x. de la tarde <br/><span class="aclaracion">14:00 a 18:00</span></h4>
							<h3><%= data.totals.maxAfternoon[0] %></h3>
							<h2><%= data.totals.maxAfternoon[1] %></h2>
              <div class="d-flex justify-content-end px-3 pb-3">
                <i class="bi bi-youtube me-2"></i> 
                <i class="bi bi-twitch"></i>
              </div>
						</div>
					</div>
				</div>
				<div id="stats-twitch" class="stats row g-4 py-5 row-cols-1 row-cols-lg-4 gx-2">
					<div class="col">
						<div class="feature">
							<div class="d-inline-flex align-items-center justify-content-center bg-gradient fs-2 mb-3">
								<i class="bi bi-clock"></i>
							</div>
							<h4>M&aacute;x. del d&iacute;a <br/><span class="aclaracion">24hs</span></h4>
							<h3><%= data.totals.maxDayTwitch[0] %></h3>
							<h2><%= data.totals.maxDayTwitch[1] %></h2>
              <div class="d-flex justify-content-end px-3 pb-3">
                <i class="bi bi-twitch"></i>
              </div>
						</div>
					</div>
					<div class="col">
						<div class="feature">
							<div class="d-inline-flex align-items-center justify-content-center bg-gradient fs-2 mb-3">
								<i class="bi bi-hourglass-top"></i>
							</div>
							<h4>M&aacute;x. de la ma&ntilde;ana <br/><span class="aclaracion">07:00 a 10:00</span></h4>
							<h3><%= data.totals.maxMorningTwitch[0] %></h3>
							<h2><%= data.totals.maxMorningTwitch[1] %></h2>
              <div class="d-flex justify-content-end px-3 pb-3">
                <i class="bi bi-twitch"></i>
              </div>
						</div>
					</div>
					<div class="col">
						<div class="feature">
							<div class="d-inline-flex align-items-center justify-content-center bg-gradient fs-2 mb-3">
								<i class="bi bi-hourglass-split"></i>
							</div>
							<h4>M&aacute;x. del mediod&iacute;a <br/><span class="aclaracion">10:00 a 14:00</span></h4>
							<h3><%= data.totals.maxMiddayTwitch[0] %></h3>
							<h2><%= data.totals.maxMiddayTwitch[1] %></h2>
              <div class="d-flex justify-content-end px-3 pb-3">
                <i class="bi bi-twitch"></i>
              </div>
						</div>
					</div>
					<div class="col">
						<div class="feature">
							<div class="d-inline-flex align-items-center justify-content-center bg-gradient fs-2 mb-3">
								<i class="bi bi-hourglass-bottom"></i>
							</div>
							<h4>M&aacute;x. de la tarde <br/><span class="aclaracion">14:00 a 18:00</span></h4>
							<h3><%= data.totals.maxAfternoonTwitch[0] %></h3>
							<h2><%= data.totals.maxAfternoonTwitch[1] %></h2>
              <div class="d-flex justify-content-end px-3 pb-3">
                <i class="bi bi-twitch"></i>
              </div>
						</div>
					</div>
				</div>
				<div id="stats-youtube" class="stats row g-4 py-5 row-cols-1 row-cols-lg-4">
					<div class="col">
						<div class="feature">
							<div class="d-inline-flex align-items-center justify-content-center bg-gradient fs-2 mb-3">
								<i class="bi bi-clock"></i>
							</div>
							<h4>M&aacute;x. del d&iacute;a <br/><span class="aclaracion">24hs</span></h4>
							<h3><%= data.totals.maxDayYoutube[0] %></h3>
							<h2><%= data.totals.maxDayYoutube[1] %></h2>
              <div class="d-flex justify-content-end px-3 pb-3">
                <i class="bi bi-youtube"></i>
              </div>
						</div>
					</div>
					<div class="col">
						<div class="feature">
							<div class="d-inline-flex align-items-center justify-content-center bg-gradient fs-2 mb-3">
								<i class="bi bi-hourglass-top"></i>
							</div>
							<h4>M&aacute;x. de la ma&ntilde;ana <br/><span class="aclaracion">07:00 a 10:00</span></h4>
							<h3><%= data.totals.maxMorningYoutube[0] %></h3>
							<h2><%= data.totals.maxMorningYoutube[1] %></h2>
              <div class="d-flex justify-content-end px-3 pb-3">
                <i class="bi bi-youtube"></i>
              </div>
						</div>
					</div>
					<div class="col">
						<div class="feature">
							<div class="d-inline-flex align-items-center justify-content-center bg-gradient fs-2 mb-3">
								<i class="bi bi-hourglass-split"></i>
							</div>
							<h4>M&aacute;x. del mediod&iacute;a <br/><span class="aclaracion">10:00 a 14:00</span></h4>
							<h3><%= data.totals.maxMiddayYoutube[0] %></h3>
							<h2><%= data.totals.maxMiddayYoutube[1] %></h2>
              <div class="d-flex justify-content-end px-3 pb-3">
                <i class="bi bi-youtube"></i>
              </div>
						</div>
					</div>
					<div class="col">
						<div class="feature">
							<div class="d-inline-flex align-items-center justify-content-center bg-gradient fs-2 mb-3">
								<i class="bi bi-hourglass-bottom"></i>
							</div>
							<h4>M&aacute;x. de la tarde <br/><span class="aclaracion">14:00 a 18:00</span></h4>
							<h3><%= data.totals.maxAfternoonYoutube[0] %></h3>
							<h2><%= data.totals.maxAfternoonYoutube[1] %></h2>
              <div class="d-flex justify-content-end px-3 pb-3">
                <i class="bi bi-youtube"></i>
              </div>
						</div>
					</div>
				</div>
				<div id="sum-totals" class="tbl row g-4 py-5 row-cols-1 row-cols-lg-3">
					<table class="table">
						<thead>
							<tr>
								<th scope="col">Hora</th>
								<% for (var i=0; i<data.values.channels.length; i++) { %>
									<th scope="col">
										<%= data.values.channels[i]; %>
									</th>
									<% } %>
							</tr>
						</thead>
						<tbody>
							<% for(var i in data.values.totals) { %>
								<tr>
									<td>
										<%= data.adjustDate(new Date(i)) + ":" + String(new Date(i).getMinutes()).padStart(2, '0'); %>
									</td>
									<td>
										<%= data.getByIndex(i, data.values.totals, 'blender'); %>
									</td>
									<td>
										<%= data.getByIndex(i, data.values.totals, 'gelatina'); %>
									</td>
									<td>
										<%= data.getByIndex(i, data.values.totals, 'luzu'); %>
									</td>
									<td>
										<%= data.getByIndex(i, data.values.totals, 'olga'); %>
									</td>
                  <td>
										<%= data.getByIndex(i, data.values.totals, 'vorterix'); %>
									</td>
								</tr>
								<% } %>
						</tbody>
					</table>
				</div>
				<div id="sum-twitch" class="tbl d-none row g-4 py-5 row-cols-1 row-cols-lg-3">
					<table class="table">
						<thead>
							<tr>
								<th scope="col">Hora</th>
								<% for (var i=0; i<data.values.channels.length; i++) { %>
									<th scope="col">
										<%= data.values.channels[i]; %>
									</th>
									<% } %>
							</tr>
						</thead>
						<tbody>
							<% for(var i in data.values.twitch) { %>
								<tr>
									<td>
										<%= data.adjustDate(new Date(i)) + ":" + String(new Date(i).getMinutes()).padStart(2, '0'); %>
									</td>
									<td>
										<%= data.getByIndex(i, data.values.twitch, 'blender'); %>
									</td>
									<td>
										<%= data.getByIndex(i, data.values.twitch, 'gelatina'); %>
									</td>
									<td>
										<%= data.getByIndex(i, data.values.twitch, 'luzu'); %>
									</td>
									<td>
										<%= data.getByIndex(i, data.values.twitch, 'olga'); %>
									</td>
                  <td>
										<%= data.getByIndex(i, data.values.twitch, 'vorterix'); %>
									</td>
								</tr>
								<% } %>
						</tbody>
					</table>
				</div>
				<div id="sum-youtube" class="tbl d-none row g-4 py-5 row-cols-1 row-cols-lg-3">
					<table class="table">
						<thead>
							<tr>
								<th scope="col">Hora</th>
								<% for (var i=0; i<data.values.channels.length; i++) { %>
									<th scope="col">
										<%= data.values.channels[i]; %>
									</th>
									<% } %>
							</tr>
						</thead>
						<tbody>
							<% for(var i in data.values.youtube) { %>
								<tr>
									<td>
										<%= data.adjustDate(new Date(i)) + ":" + String(new Date(i).getMinutes()).padStart(2, '0'); %>
									</td>
									<td>
										<%= data.getByIndex(i, data.values.youtube, 'blender'); %>
									</td>
									<td>
										<%= data.getByIndex(i, data.values.youtube, 'gelatina'); %>
									</td>
									<td>
										<%= data.getByIndex(i, data.values.youtube, 'luzu'); %>
									</td>
									<td>
										<%= data.getByIndex(i, data.values.youtube, 'olga'); %>
									</td>
                  <td>
										<%= data.getByIndex(i, data.values.youtube, 'vorterix'); %>
									</td>
								</tr>
								<% } %>
						</tbody>
					</table>
				</div>
			</div>
			<footer class="py-3 my-4 mt-auto">
				<p class="text-center">&copy; 2024 En Directo Stream</p>
			</footer>
		</div>
    <script src="/main.js"></script>
	</body>
	</html>